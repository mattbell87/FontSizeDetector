/*
    FontSizeDetector
    ----------------
    A javascript module that detects when the font size has changed
    Matt Bell 2014
    License: GNU
*/
var FontSizeDetector=new function(){this.refreshRate=500;var t=null,e=0,n=[];this.construct=function(){t=document.createElement("span"),t.innerHTML="&nbsp;",document.body.appendChild(t),e=t.offsetHeight,this.fsListen()},this.changed=function(t){"function"==typeof t&&n.push(t)},this.unbind=function(t){if("undefined"!=typeof t){for(i in n)if(t==n[i]){n.splice(i,1);break}}else n=[]},this.fsListen=function(){this.refresh(),setTimeout(function(){a.fsListen()},this.refreshRate)},this.refresh=function(){var e=t.offsetHeight;if(e!=this.lastValue){for(i in n){var s=n[i];s({oldValue:this.lastValue,newValue:e})}this.lastValue=e}};var s=function(t){var e=t.element;e.addEventListener?e.addEventListener(t.on,t.action):e.attachEvent&&e.attachEvent("on"+t.on,t.action)},a=this;s({element:window,on:"load",action:function(){a.construct()}})};